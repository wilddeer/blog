---
layout: post
title: "Links, motherfuckers"
categories: p
lang: ru
---

#Links, motherfuckers

Интересно, сколько еще понадобится времени, чтобы [самые](//twitter.com) [продвинутые](//instagram.com) [IT-компании](//plus.google.com) научились пользоваться ссылками. На эту темму написана уже не одна тонна статей, тем не менее разработчики продолжают пренебрегать простыми и очевидными, казалось бы, вещами. Такое ощущение, как будто веб-девелоперы не знают о существовании вкладок в браузерах.

##Три правила ссылок

###Раз

Если вам в `href` очень хочется положить `javascript: void(0);`, `#` или еще какую-нибудь лажу, успокойтесь, глубоко вздохните и замените ссылку на `button`, `span`, `div` или еще что-то по своему вкусу.

Ваш новый элемент управления воспринимает событие `click` и стили `:hover` и `:active` точно так же, как и ссылка. Невероятно!

###Два

Если вам очень хочется запихнуть в ваш элемент `onclick="location.href='...'"`, остановитесь, вздохните еще раз и сделайте ссылку. Теперь вашу ссылку можно открыть в новой вкладке, вызвать контекстное меню браузера с кучей функций, а адрес ссылки будет виден при наведении мыши. Поразительно!

###Три

Единственный случай, когда можно (и нужно) вешать обработчик на ссылку --- если есть что показать по ссылке. При этом важно, чтобы обработчик срабатывал только при нажатии левой кнопки мыши без кнопок-модификаторов.

Классический пример --- превьюшки фоток. При нажатии на превьюшку показывается большая фотка поверх текущего контента. При клике колесом или ctrl-клике фотка открывается в новой вкладке. Контекстное меню тоже работает. Юзеры с отключенным&nbsp;/ сломанным яваскриптом получают рабочую ссылку на фотку. Все довольны:

HTML:

{% highlight html cssclass=codewrap %}
{% include snippets/proper-link.htm %}
{% endhighlight %}

JS + jQuery:

{% highlight js cssclass=codewrap %}
{% include snippets/proper-link.js %}
{% endhighlight %}

Результат:

{% include snippets/proper-link.htm %}

<script>
dzDelayed.push(function() {
	{% include snippets/proper-link.js %}
});
</script>

Есть куча других примеров, где очень желательно оставлять функционал ссылки:

- 	Переключение страниц

	<small>(например, [пагинатор комментариев на vk.com](http://vk.com/wall-35502680_11833) переключает страницы без перезагрузки, но оставляет возможность открыть ссылку в новой вкладке)</small>

-	Кнопка, открывающая попап с формой логина&nbsp;/ регистрации должна вести на отдельную страницу с этой же формой

Этот простой принцип легко расширяется на новые браузерные фишки, при этом ссылка служит естественным фоллбеком для старых браузеров. Например, браузер, не поддерживающий history states, может ходить по вашим ссылкам с перезагрузкой страницы.

Graceful Degradation во все поля.